{"author":{"id":"d726bf0970d98530f2d8e7cd2738aa6327b6c5d35bb908aefb37cb65176f354e"},"ops":[{"type":3,"author":{"id":"d726bf0970d98530f2d8e7cd2738aa6327b6c5d35bb908aefb37cb65176f354e"},"timestamp":1711787158,"metadata":{"github-id":"IC_kwDOCvZSxM544FuC","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/3792#issuecomment-2027969410"},"nonce":"zlGRoqajK3sNtZzENFnx3eSWbXA=","message":"@vmiklos  TLDR; kiszedheted a csv generálást.\n\nEredeti ezt volt:\n```\n   awk  'BEGIN {FS=\"\\t\"}{if($6)  printf \"%s/%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\n\",$7,$6,$1,$2,$3,$4,$9,$10,$11 }' $workdir/stats/whole-country.csv  \u003e$outfile.tmp\n   head -n 1 $outfile.tmp \u003e$outfile\n   tail -n+2 $outfile.tmp | sort  -t$'\\t' -k2,4 -k5n,5 -k5,5 -k1n,1 \u003e\u003e$outfile\n   rm $outfile.tmp\n```\n\nEz lett:\n\n```\n.headers on\n.load ./libicu.so\n.output /dev/null\nSELECT icu_load_collation('hu_HU', 'HUNGARIAN');\n.mode tab\n.output stdout\nselect osm_type||\"/\"||osm_id, postcode, city, street, housenumber, place, unit, name from whole_country\norder by postcode nulls last, city, street COLLATE HUNGARIAN, place COLLATE HUNGARIAN,  cast(housenumber as number), housenumber, unit, osm_type, osm_id;\n```\n\nAz magyar rendezést belőni elég kinlódós volt, de ez lett a végleges:\n\ngcc -fPIC -shared icu.c `pkg-config --libs --cflags icu-uc icu-io` -o libicu.so\n\nKicsit eltér a linuxos rendezéstől, de megteszi.\n\nKapcsolódó:\nhttps://stackoverflow.com/questions/6578600/how-to-compile-sqlite-with-icu\nhttps://www.sqlite.org/src/doc/trunk/ext/icu/README.txt\n\nprob1: icu-config leírások már nem jók, pck-config van már helyette\nprob2: a lib neve libicu.so kell egyen, különben error van","files":null},{"type":6,"author":{"id":"d726bf0970d98530f2d8e7cd2738aa6327b6c5d35bb908aefb37cb65176f354e"},"timestamp":1711787333,"metadata":{"github-id":"UCE_lALOCvZSxM544FuCzkMwFSI"},"nonce":"zWiV2AFkDHX2XDMafxezAp/Y2Tk=","target":"ac2900e48961433391dfc813da2e0543db1636783c544b16025f0b045c95b063","message":"@vmiklos  TLDR; kiszedheted a csv generálást.\n\nEredeti ezt volt:\n```\n   awk  'BEGIN {FS=\"\\t\"}{if($6)  printf \"%s/%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\n\",$7,$6,$1,$2,$3,$4,$9,$10,$11 }' $workdir/stats/whole-country.csv  \u003e$outfile.tmp\n   head -n 1 $outfile.tmp \u003e$outfile\n   tail -n+2 $outfile.tmp | sort  -t$'\\t' -k2,4 -k5n,5 -k5,5 -k1n,1 \u003e\u003e$outfile\n   rm $outfile.tmp\n```\n\nEz lett:\n\n```\n.headers on\n.load ./libicu.so\n.output /dev/null\nSELECT icu_load_collation('hu_HU', 'HUNGARIAN');\n.mode tab\n.output stdout\nselect osm_type||\"/\"||osm_id, postcode, city, street, housenumber, place, unit, name from whole_country\norder by postcode nulls last, city COLLATE HUNGARIAN, street COLLATE HUNGARIAN, place COLLATE HUNGARIAN,  cast(housenumber as number), housenumber, unit, osm_type, osm_id;\n```\n\nAz magyar rendezést belőni elég kinlódós volt, de ez lett a végleges:\n\ngcc -fPIC -shared icu.c `pkg-config --libs --cflags icu-uc icu-io` -o libicu.so\n\nKicsit eltér a linuxos rendezéstől, de megteszi.\n\nKapcsolódó:\nhttps://stackoverflow.com/questions/6578600/how-to-compile-sqlite-with-icu\nhttps://www.sqlite.org/src/doc/trunk/ext/icu/README.txt\n\nprob1: icu-config leírások már nem jók, pck-config van már helyette\nprob2: a lib neve libicu.so kell egyen, különben error van","files":null},{"type":6,"author":{"id":"d726bf0970d98530f2d8e7cd2738aa6327b6c5d35bb908aefb37cb65176f354e"},"timestamp":1711787372,"metadata":{"github-id":"UCE_lALOCvZSxM544FuCzkMwFaQ"},"nonce":"exE7nJDx1YLoaGQINqELBLS3QX0=","target":"ac2900e48961433391dfc813da2e0543db1636783c544b16025f0b045c95b063","message":"@vmiklos  TLDR; kiszedheted a csv generálást.\n\nEredeti ezt volt:\n```\n   awk  'BEGIN {FS=\"\\t\"}{if($6)  printf \"%s/%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\n\",$7,$6,$1,$2,$3,$4,$9,$10,$11 }' $workdir/stats/whole-country.csv  \u003e$outfile.tmp\n   head -n 1 $outfile.tmp \u003e$outfile\n   tail -n+2 $outfile.tmp | sort  -t$'\\t' -k2,4 -k5n,5 -k5,5 -k1n,1 \u003e\u003e$outfile\n   rm $outfile.tmp\n```\n\nEz lett:\n\n```\n.headers on\n.load ./libicu.so\n.output /dev/null\nSELECT icu_load_collation('hu_HU', 'HUNGARIAN');\n.mode tab\n.output stdout\nselect osm_type||\"/\"||osm_id, postcode, city, street, housenumber, place, unit, name from whole_country\norder by postcode nulls last, city COLLATE HUNGARIAN, street COLLATE HUNGARIAN, place COLLATE HUNGARIAN,  cast(housenumber as number), housenumber, unit, osm_type, osm_id;\n```\n\nAz magyar rendezést belőni elég kinlódós volt, de ez lett a végleges:\n\n```\ngcc -fPIC -shared icu.c `pkg-config --libs --cflags icu-uc icu-io` -o libicu.so\n```\n\nKicsit eltér a linuxos rendezéstől, de megteszi.\n\nKapcsolódó:\nhttps://stackoverflow.com/questions/6578600/how-to-compile-sqlite-with-icu\nhttps://www.sqlite.org/src/doc/trunk/ext/icu/README.txt\n\nprob1: icu-config leírások már nem jók, pck-config van már helyette\nprob2: a lib neve libicu.so kell egyen, különben error van","files":null},{"type":5,"author":{"id":"d726bf0970d98530f2d8e7cd2738aa6327b6c5d35bb908aefb37cb65176f354e"},"timestamp":1711787703,"metadata":{"github-id":"UNLE_lADOCvZSxM6CisSCzwAAAALdJG4i"},"nonce":"tvoxaP6+BSpxzFRHYZ3593999cQ=","added":[],"removed":["needs testing"]},{"type":3,"author":{"id":"d726bf0970d98530f2d8e7cd2738aa6327b6c5d35bb908aefb37cb65176f354e"},"timestamp":1711787723,"metadata":{"github-id":"IC_kwDOCvZSxM544GWa","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/3792#issuecomment-2027971994"},"nonce":"Qtn38xxHT/B2vsml+w0BiAEfAKQ=","message":"Utána zárható","files":null}]}