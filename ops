{"version":2,"ops":[{"type":5,"author":{"id":"a5e3cd4a35e34a7ac5bb7d3c9ecf1136f40c872a"},"timestamp":1558292978,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDIzNTE1ODY3OTc="},"added":["enhancement"],"removed":[]},{"type":3,"author":{"id":"a5e3cd4a35e34a7ac5bb7d3c9ecf1136f40c872a"},"timestamp":1558293067,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ5Mzc4MzE5Mg==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-493783192"},"message":"Köszi, erről az API-ról nem tudtam. Hatékonyabbnak tűnik mint a naiv megközelítés, hogyha kidob a szerver, akkor újrapróbálni 1, 2, 4, 8 (mondjuk) perc múlva. Ez alapján már lehetne csinálni valamilyen nightly scriptet ami akkor is végigfrissít mindent ha nem nyom rá napközben senki.","files":null},{"type":3,"author":{"id":"653ad5a5221de41f1bb6e2b766642806e048c3d8"},"timestamp":1558343953,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDQ5MzkwNTgwMw==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-493905803"},"message":"Tegnap belefutottam, és az error írta. Ugye ki lehet parse-olni az üzenetből mennyit kell sleepelni.","files":null},{"type":3,"author":{"id":"a5e3cd4a35e34a7ac5bb7d3c9ecf1136f40c872a"},"timestamp":1560018111,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwMDE0ODE5NA==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-500148194"},"message":"És tényleg:\n\nhttps://github.com/drolbr/Overpass-API/blob/master/src/overpass_api/dispatch/dispatcher_server.cc#L343\n\nMindig másodpercben írja ki, nem kell szórakozni perc/óra/stb-vel.","files":null},{"type":3,"author":{"id":"a5e3cd4a35e34a7ac5bb7d3c9ecf1136f40c872a"},"timestamp":1560084541,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwMDIwOTUyNw==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-500209527"},"message":"Az issue gondolom implicit arról szól, hogy legyenek dolgok automatikusan frissítve. 3 dolgot cache-elünk jelenleg:\n\n1) reláció utcái overpassból\n2) reláció házszámai overpassból\n3) reláció házszámai referenciából\n\nKérdés, hogy ebből mit frissítsen a cronjob: az 1) és 2) elég egyértelmű; a 3)-nak van értelme?","files":null},{"type":3,"author":{"id":"653ad5a5221de41f1bb6e2b766642806e048c3d8"},"timestamp":1560088286,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwMDIxMzg5NA==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-500213894"},"message":"1-2 elég szerintem, gyakrabban a 2) ritkábban az 1)\n\nMiklos Vajna \u003cnotifications@github.com\u003e ezt írta (időpont: 2019. jún. 9., V\n14:49):\n\n\u003e Az issue gondolom implicit arról szól, hogy legyenek dolgok automatikusan\n\u003e frissítve. 3 dolgot cache-elünk jelenleg:\n\u003e\n\u003e    1. reláció utcái overpassból\n\u003e    2. reláció házszámai overpassból\n\u003e    3. reláció házszámai referenciából\n\u003e\n\u003e Kérdés, hogy ebből mit frissítsen a cronjob: az 1) és 2) elég egyértelmű;\n\u003e a 3)-nak van értelme?\n\u003e\n\u003e —\n\u003e You are receiving this because you authored the thread.\n\u003e Reply to this email directly, view it on GitHub\n\u003e \u003chttps://github.com/vmiklos/osm-gimmisn/issues/51?email_source=notifications\u0026email_token=AL7EBS7XUGDQAO2WOE7ZGQ3PZT333A5CNFSM4HN43N7KYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGODXIJO5Y#issuecomment-500209527\u003e,\n\u003e or mute the thread\n\u003e \u003chttps://github.com/notifications/unsubscribe-auth/AL7EBS3AA7EDR4PKFSEV2KDPZT333ANCNFSM4HN43N7A\u003e\n\u003e .\n\u003e","files":null},{"type":3,"author":{"id":"a5e3cd4a35e34a7ac5bb7d3c9ecf1136f40c872a"},"timestamp":1560089851,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwMDIxNTU1Mw==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-500215553"},"message":"38m37,001s -- jelenleg amúgy ennyi az összes reláció utcáinak befrissítése, rávizsgálva, hogy mennyit kell várni (minden overpass lekérdezés előtt).","files":null},{"type":3,"author":{"id":"653ad5a5221de41f1bb6e2b766642806e048c3d8"},"timestamp":1560092573,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwMDIxOTA0Mg==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-500219042"},"message":"ilyenek jutottak még eszembe\n- ahol 100% ott nem kell frissíteni\n- talán tehetnénk egy flaget a relations-be, refresh=false, vagy archive=true, ahol nem kellene frissíteni. pl Felsőtárkányt előbb utóbb befejezem, akkor biztos nem nyúlok hozzá utána. \nAz archive=true későbbiekben a főoldalon is segíthetne, ha sok lesz a relation és akarunk szűrést. \n- frissítés után meg kell hívni a hiányzó házszám funkciót, mindegyikre, hogy a %-ok frissüljenek a főoldalon\n- esetleg később ha nagyon sok idő lesz a szumma frissítés, akkor még lehet intelligenciát vinni a dologba, hogy mi frissüljön és mi nem az alapján, hogy mikor változott utoljára (ami rég változott ott ritkábban frissítünk)","files":null},{"type":3,"author":{"id":"a5e3cd4a35e34a7ac5bb7d3c9ecf1136f40c872a"},"timestamp":1560109097,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwMDIzOTIwOQ==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-500239209"},"message":"Úgy tűnik elég nagy a szórás, most 32p alatt lefutott a teljes street+házszám frissítés is. A % téma jogos, de egyelőre az a webes UI része, először azt onnan le kell választani. Majd megnézem. A flag, hogy valamelyik relációt pocsékolás naponta újraszámolni is tetszik; ha majd konkrétan lesz ilyenre igény, akkor megcsinálom.\n\nEgyelőre ha stabilan 1 óra alatt van (és úgy tűnik ez adott, legalábbis helyben) és naponta fut akkor kezdetnek nem gond ha az 1) és 2) naponta elejétől végéig lefut.","files":null},{"type":3,"author":{"id":"a5e3cd4a35e34a7ac5bb7d3c9ecf1136f40c872a"},"timestamp":1560151379,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwMDMxODY0Ng==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-500318646"},"message":"Ez alapvetően megvan, az kell még, hogy főoldali % frissüljön.","files":null},{"type":3,"author":{"id":"a5e3cd4a35e34a7ac5bb7d3c9ecf1136f40c872a"},"timestamp":1560235391,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwMDcwODk4MA==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-500708980"},"message":"Éjjel lefutott a PythonAnywhere (PA) instance-en a cronjob 8 perc alatt, ez egyelőre megfelel. Most pusholtam a %-os frissítést is. Az helyben jó volt, így gondolom holnapra a PA instance-en is jó lesz.","files":null},{"type":4,"author":{"id":"a5e3cd4a35e34a7ac5bb7d3c9ecf1136f40c872a"},"timestamp":1560235391,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjQwMzAyNjM2Nw=="},"status":2},{"type":3,"author":{"id":"a5e3cd4a35e34a7ac5bb7d3c9ecf1136f40c872a"},"timestamp":1560317308,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDUwMTEyNjE1OQ==","github-url":"https://github.com/vmiklos/osm-gimmisn/issues/51#issuecomment-501126159"},"message":"Most a főoldalon a százalékok többségében fél4 után nem sokkal frissültek, szóval most már ez az utolsó rész is rendben van.","files":null}]}